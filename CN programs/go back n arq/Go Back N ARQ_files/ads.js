/* :files, 'spec_javascripts', ... @ (none) */


/* :files, 'spec_javascripts', ... @ (none) */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1425075610 */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1425075658 */
/* public/javascripts/ads/base.coffee @ 1425075658 */
(function(){var t,e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};null==window.Scribd&&(window.Scribd={}),null==Scribd.Ads&&(Scribd.Ads={}),null==(t=Scribd.Ads).attributes&&(t.attributes={}),Scribd.Ads.loaded=!1,Scribd.Ads.addAttribute=function(t,n,i){var r,o,s,a,c,u,l;if(null==i&&(i=!0),null==t||null==n)throw"addAttribute called without name or value";if(r=null!=(a=Scribd.Ads.attributes)[t]?(a=Scribd.Ads.attributes)[t]:a[t]=[],n instanceof Array){for(o=r.length,s=n,c=0,u=s.length;u>c;c++)n=s[c],Scribd.Ads.addAttribute(t,n,!1);r.length===o&&(i=!1)}else e.call(r,n)>=0?i=!1:r.push(n);return i&&"undefined"!=typeof googletag&&null!==googletag&&null!=(l=googletag.cmd)&&l.push(function(){return googletag.pubads().setTargeting(t,r)}),i},Scribd.Ads.addAttributeIfSmaller=function(t,e){var n;if(!(n=Scribd.Ads.attributes[t]))return Scribd.Ads.addAttribute(t,e);if(n.length>1)throw"can't use Scribd.Ads.addAttributeIfSmaller for attribute, '"+t+"' with multiple values";return e<n[0]?Scribd.Ads.attributes[t][0]=e:void 0},Scribd.Ads.queuedForDisplay={},Scribd.Ads.displayedAdUnits={},Scribd.Ads.suppressedAdUnits={},window.jQuery?(Scribd.Ads.observe=function(t,e,n){return"string"==typeof t&&"#"!==t.charAt(0)&&(t="#"+t),$(t).on(e,n)},Scribd.Ads.fire=function(t,e){return $(t).trigger(e)}):window.Prototype&&(Scribd.Ads.observe=Event.observe,Scribd.Ads.fire=function(t,e){return t.fire(e)}),Scribd.Ads.load=function(t){return Scribd.Ads.load.event.fired?null!=t?t():void 0:null!=t?Scribd.Ads.observe(document,Scribd.Ads.load.event.name,t):Scribd.Ads.fire(document,Scribd.Ads.load.event.name)},Scribd.Ads.load.event={fired:!1,name:"scribd:load_ads"},Scribd.Ads.load(function(){return Scribd.Ads.load.event.fired=!0,Scribd.Ads.attributes.AdLayout[0]>=4?Scribd.Ads.setup_ad_repopulation():void 0}),Scribd.Ads.forceAddUnit=function(t,e,n,i){var r,o,s;return s=t.match(/.*_(\d+)x(\d+)/).slice(1),null==e&&(e=t+"_container"),Scribd.Ads.suppressedAdUnits[e]?void 0:(i||(r=document.getElementById(e),r.style.width=s[0]+"px",r.style.height=s[1]+"px"),Scribd.Ads.queuedForDisplay[e]=!0,o=function(){return Scribd.Ads.displayedAdUnits[e]||Scribd.Ads.suppressedAdUnits[e]?void 0:(Scribd.Ads.displayedAdUnits[e]=!0,delete Scribd.Ads.queuedForDisplay[e],googletag.cmd.push(function(){return googletag.display(e)}))},n?"string"==typeof n?Scribd.Ads.observe(document,n,function(){return o()}):Scribd.Ads.loaded?o():Scribd.Ads.observe(document,"scribd:load_ads",function(){return setTimeout(o,50)}):o())},Scribd.Ads.addUnit=function(t,e,n,i){return Scribd.Ads.enabled?Scribd.Ads.forceAddUnit(t,e,n,i):void 0},Scribd.Ads.betweenUnitForPage=function(t){return 1===t?{unit:"Doc_Between_Top_FullBanner_468x60",shouldHide:!1,loadEvent:!0}:2===t?{unit:"Doc_Between_Leaderboard_BTF_728x90_"+t,shouldHide:!1,loadEvent:!0}:t%2===1&&21>=t?{unit:"Doc_Between_Leaderboard_BTF_728x90_"+t,shouldHide:!1,loadEvent:!0}:void 0},Scribd.Ads.addBetweenPageUnit=function(t){var e,n,i;return Scribd.Ads.enabled&&Scribd.Ads.attributes.AdLayout[0]>1&&!navigator.userAgent.match(/iPad/i)&&(i=Scribd.Ads.betweenUnitForPage(t))?(e=document.getElementById("between_page_ads_"+t),n=document.createElement("div"),n.id="between_page_ads_inner_"+t,n.style.position="absolute",e.appendChild(n),1===t?e.style.height="60px":2===t?e.style.height="90px":t%2===1&&21>=t&&(e.style.height="90px"),Scribd.Ads.addUnit(i.unit,n.id,i.loadEvent,i.shouldHide)):void 0},Scribd.Ads.setup_ad_repopulation=function(){var t,e,n,i,r,o;for(n={},t=function(){var t,e;for(e=[],i=t=3;21>=t;i=t+=2)e.push(i);return e}(),r=0,o=t.length;o>r;r++)e=t[r],n[e]=e;return docManager.addEvent("expectedFirstPageChanged",function(t){var e,i,r,o,s;return e=t>2?t%20===1?21:t%20:void 0,r=n[e],null!=r&&r!==t?(o=$("#between_page_ads_"+t),o.height("90px"),s=$("#between_page_ads_"+e),e!==t&&s.height("0px"),i=$("#between_page_ads_inner_"+e),i.css("top",""+o.position().top+"px"),n[e]=t):void 0})},Scribd.Ads.size=function(t,e){var n;if(n=Scribd.Ads.adUnits[t]||Scribd.Ads.RefreshUnit.all[t],!n)throw"unknown ad unit";return null!=e?(Scribd.Ads.size.custom_sizes[t]=e,Scribd.Ads.fire(document,"scribd:ad_size_changed"),parseInt(e.height)):parseInt(Scribd.Ads.size.custom_sizes[t]?Scribd.Ads.size.custom_sizes[t].height:t.match(/.*_(\d+)x(\d+)/).slice(1)[1])},Scribd.Ads.size.custom_sizes={},Scribd.Ads.disable=function(){var t;return Scribd.log("ads disabled"),t="ads_disabled",window.jQuery?$(function(){return $("body").addClass(t).trigger("scribd:ads_disabled")}):document.observe("dom:loaded",function(){return document.body.addClassName(t)})},Scribd.Ads.set_data_layer=function(){var t,e,n,i,r,o,s,a,c,u,l,h,d,f,p,m;window.dataLayer=[],n={},d=Scribd.Ads.attributes;for(r in d)o=d[r],e={},e[r]=o[0],window.dataLayer.push(e),("IAB_A-L"===r||"IAB_M-Z"===r)&&o.length>=2&&(i={},i[""+r+"_SUB"]=o[1],window.dataLayer.push(i));if(Scribd.Ads.attributes["IAB_A-L"])for(f=Scribd.Ads.attributes["IAB_A-L"],s=function(t){var n;return n="SC_121_"+t,e={},e[n]="yes",dataLayer.push(e)},c=0,l=f.length;l>c;c++)t=f[c],s(t);if(Scribd.Ads.attributes["IAB_M-Z"])for(p=Scribd.Ads.attributes["IAB_M-Z"],a=function(t){var n;return n="SC_121_"+t,e={},e[n]="yes",dataLayer.push(e)},u=0,h=p.length;h>u;u++)t=p[u],a(t);return Scribd.geoModule(function(t){return window.dataLayer.push({country_code:t})}),Scribd.with_named_current_user(function(){var t,e;return t=Scribd.named_current_user(),t&&window.dataLayer.push({secret_sauce:Scribd.named_current_user().secret_sauce}),(null!=t?t.active_archive_purchase:void 0)||(null!=(e=Scribd.current_doc)?e.adfree_publisher:void 0)?window.dataLayer.push({ads_free:!0}):void 0}),(null!=(m=Scribd.current_doc)?m.author_name:void 0)?window.dataLayer.push({publisher_name:Scribd.current_doc.author_name.replace(/(\s+|\.)/g,"")}):void 0},Scribd.Ads.collapse_right_sticky=function(){return $("#pinned_ad").hide()},Scribd.Ads.add_addthis_tag=function(t){return window.addthis_config={data_track_addressbar:!0,pubid:t},window.jQuery?$.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid="+t):void 0}}).call(this);


/* public/javascripts/ads/ad_layouts.coffee @ 1425075658 */
(function(){Scribd.Ads.setAdLayouts=function(){var t,e,n,i,r,o,s,a,c;return Scribd.Ads.setRefererType(),e=function(t,e){return Scribd.Ads.addAttributeIfSmaller("AdLayout",t),trackEvent("AdTargeting","SpecialCase",e,0,!1)},(null!=(n=Scribd.current_doc)?n.adfree_publisher:void 0)&&e(0,"AdFreePublisher"),(null!=(i=Scribd.current_doc)?i.adult_uploader:void 0)&&e(0,"AdultUploader"),(null!=(r=Scribd._named_current_user)?r.has_purchased:void 0)&&e(0,"UserPurchasedDocument"),(null!=(o=Scribd.current_doc)?o.is_owner:void 0)&&e(0,"UserViewingOwnDocument"),(null!=(s=Scribd._named_current_user)?s.uploaded_at_least_three:void 0)&&e(0,"UserUploadedThreeOrMore"),(null!=(a=Scribd.current_doc)?a.is_private:void 0)&&e(1,"UserViewingPrivateDoc"),(null!=(c=Scribd.current_doc)?c.can_purchase:void 0)&&e(1,"UserViewingUnpurchasedDoc"),(t=window.location.href.match(/[?#&]adLayout=(\d)(?:[?#&]|$)/i))&&(t=parseInt(t[1],10),Scribd.log("forcing ad layout "+t),delete Scribd.Ads.attributes.AdLayout,Scribd.Ads.addAttribute("AdLayout",t)),trackEvent("AdTargeting","AdLayout",""+Scribd.Ads.attributes.AdLayout[0],0,!1)},Scribd.Ads.setByGeo=function(t){var e,n;return Scribd.currentLocation=Scribd.geoModule("now"),e=4,n={US:!0,CA:!0,AU:!0,GB:!0,FR:!0,IT:!0,DE:!0,NL:!0,BE:!0,PT:!0,CH:!0,AT:!0,SE:!0,DK:!0,IE:!0,NO:!0,FI:!0}[Scribd.currentLocation],e=t?n?3:4:n?1:3,Scribd.Ads.addAttributeIfSmaller("AdLayout",e)},Scribd.Ads.setRefererType=function(t){var e,n,i,r,o,s,a,c,u,l;return t||(t=document.referrer),i=/^https?:\/\/([^\/]+)/i,s=/[?&][pq]=([^&]+)/i,l=/^(?:[^.]+\.)?([^.]+)\.(?:(?:ac|com|edu|gc|gov|net|org|per|sch|co)\.?[^.]+)$/i,u=t.match(i),a="",u&&(c=u[1],n=c.match(l),e="",n&&(e=n[1]),o=t.match(s),o?(r=o[1],a=r.match(/scribd/i)?"branded search":"organic search"):e.match(/google|yahoo|ask|bing/i)&&(a="unknown search"),e.match(/^ycombinator.com|hackerne.ws|reddit.com$/i)&&(a="premium","reddit"!==e&&(e="hackernews"),Scribd.Ads.addAttributeIfSmaller("AdLayout",1)),a&&trackEvent("refererType",e,a,0,!1)),Scribd.Ads.setByGeo(!!a.match(/search$/))}}).call(this);


/* public/javascripts/ads/refresh_unit.coffee @ 1425075658 */
(function(){var t,e,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(t,e){var n,i;return null!=(n="undefined"!=typeof Scribd&&null!==Scribd&&null!=(i=Scribd.ServerOptions)?i[t]:void 0)?n:e},Scribd.Ads.trackEngagement=!1,Scribd.Ads.userIsActive=!1,Scribd.Ads.inactivityTimer=null,Scribd.Ads.idleTimeBeforeInactive=e("ad_refresh_idle_time_before_inactive",60),Scribd.Ads.refreshInterval=e("ad_refresh_interval",60),Scribd.Ads.delayBeforeTrackingEngagement=e("ad_refresh_engagement_tracking_delay",0),setTimeout(function(){return Scribd.Ads.trackEngagement=!0},1e3*Scribd.Ads.delayBeforeTrackingEngagement),Scribd.Ads.onUserActivity=function(){return Scribd.Ads.userIsActive=!0,clearTimeout(Scribd.Ads.inactivityTimer),Scribd.Ads.inactivityTimer=setTimeout(Scribd.Ads.onUserInactivity,1e3*Scribd.Ads.idleTimeBeforeInactive)},Scribd.Ads.onUserInactivity=function(){return Scribd.Ads.userIsActive=!1},Scribd.Ads.observingUserActivity=!1,Scribd.Ads.observeUserActivity=function(){return Scribd.Ads.observingUserActivity?void 0:(Scribd.Ads.onUserActivity(),$(document).mousemove(Scribd.Ads.onUserActivity),$(window).scroll(Scribd.Ads.onUserActivity),Scribd.Ads.observingUserActivity=!0)},Scribd.Ads.GPTRefreshUnit=function(){},Scribd.Ads.RefreshUnit=function(){function t(t){var e;this.name=t,Scribd.Ads.RefreshUnit.all[this.name]=this,e=Scribd.Ads.setupIframeUnit(this.name),this.width=e.size[0],this.height=e.size[1],this.urlParams=e.urlParams,Scribd.Ads.observeUserActivity(),this.listenForHover(),this.lastRefreshed=null,this.setupRefresh()}return t.prototype.container=function(){return document.getElementById(""+this.name+"_container")},t.prototype.setupRefresh=function(){return this.timesRefreshed=0,this.timer=null,this.setNextRefresh(),this.refresh()},t.prototype.listenForHover=function(){var t=this;return this.isOver=!1,this.container().observe?this.container().observe("mouseenter",function(){return t.isOver=!0}).observe("mouseleave",function(){return t.isOver=!1}):this.isOver=!1},t.prototype.getDuration=function(){var t;return null!=(t=this._duration)?t:1e3*Scribd.Ads.refreshInterval},t.prototype.duration=function(t){return"number"==typeof t&&(1e3>t&&(t*=1e3),this._duration=t,this.setNextRefresh()),this.getDuration()},t.prototype.stopRefreshing=function(){return clearTimeout(this.timer),delete this.timer},t.prototype.setNextRefresh=function(){var t,e=this;return this.stopRefreshing(),Scribd.Ads.suppressedAdUnits[this.name]?void 0:(t=this.lastRefreshed||this.attemptedRefreshAt?this.duration()-((new Date).getTime()-(this.lastRefreshed||this.attemptedRefreshAt)):3e3,0>=t&&(this.refresh(),t=3e3),this.timer=setTimeout(function(){return e.setNextRefresh()},t))},t.prototype.refresh=function(){return!Scribd.Ads.userIsActive&&Scribd.Ads.trackEngagement||this.isOver?void 0:(this.attemptedRefreshAt=(new Date).getTime(),delete this._duration,this.lastRefreshed=null,this.actuallyRefresh())},t.prototype.actuallyRefresh=function(){var t=this;return setTimeout(function(){return Scribd.Ads.replaceIframe(t.name,t.width,t.height,t.urlParams)},0)},t.prototype.iframeLoaded=function(){return this.lastRefreshed=(new Date).getTime(),this.timesRefreshed+=1},t}(),Scribd.Ads.RefreshUnit.get=Scribd.Ads.RefreshUnit.all={},t=["US","GB","FR","DE","JP"],Scribd.Ads.addRefreshUnit=function(e){return Scribd.Ads.load(function(){if(Scribd.Ads.enabled&&null==Scribd.Ads.RefreshUnit.all[e]&&null==Scribd.Ads.suppressedAdUnits[e]){if(1===Scribd.Ads.attributes.AdLayout[0])return Scribd.geoModule(function(i){return n.call(t,i)>=0?new Scribd.Ads.RefreshUnit(e):void 0});if(Scribd.Ads.attributes.AdLayout[0]>1)return new Scribd.Ads.RefreshUnit(e)}})},Scribd.Ads.isVisible=function(t){return!!Scribd.Ads.RefreshUnit.all[t]},Scribd.Ads.setupIframeUnit=function(t){var e;return{urlParams:"ad_unit="+escape(t),size:function(){var n,i,r,o;for(r=t.match(/.*_(\d+)x(\d+)$/).slice(1),o=[],n=0,i=r.length;i>n;n++)e=r[n],o.push(parseInt(e,10));return o}()}},Scribd.Ads.addPassbackUnit=function(t,e){var n;return n=Scribd.Ads.setupIframeUnit(t),Scribd.Ads.replaceIframe(e,n.size[0],n.size[1],n.urlParams,0)},Scribd.Ads.replaceIframe=function(t,e,n,i){var r,o;return r=$("#"+t+"_container"),r&&r.not(":empty")&&r.children("iframe").remove(),o=document.createElement("iframe"),o.width=e,o.height=n,o.scrolling="no",o.frameBorder=0,o.marginWidth=0,o.marginHeight=0,o.allowTransparency=!0,o.src="/ad_refresher.html#"+i,r.append(o)}}).call(this);


/* :files, 'public/javascripts/shared', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :class_inlines, 'app/views', ... @ (none) */
